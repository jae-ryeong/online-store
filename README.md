# 온라인 스토어 프로젝트

## 프로젝트 개요
온라인 스토어 프로젝트는 사용자가 다양한 상품을 검색하고 조회하며, 장바구니에 담아 결제까지 진행할 수 있는 웹 기반 쇼핑몰 플랫폼입니다. 이 프로젝트는 React(TypeScript)와 Spring Boot를 사용하여 풀스택 웹 애플리케이션으로 개발되었으며, Docker를 활용하여 개발 및 배포 환경을 일관되게 유지했습니다.

또한 데이터 관리를 위해 일반 애플리케이션 데이터는 RDBMS에 저장하고, JWT 관리는 Redis를 활용하며, 용량이 큰 이미지 파일은 GCP에 보관하여 효율적으로 데이터를 관리했습니다. 결제 서비스 구현은 포트원 V2 API를 사용하여 결제 기능을 구현했습니다.

## E-R 다이어그램
![Image](https://github.com/user-attachments/assets/1ffc3171-113e-4986-badb-40dc6abb8aa7)

## 기술 스택
### 프론트엔드
- **React.js**: 사용자 인터페이스 컴포넌트 구축
- **TypeScript**: 프론트엔드의 타입 안정성과 코드 품질을 향상

### 백엔드
- **Spring Boot**: RESTful API 개발
- **Spring Security & JWT**: 사용자 인증 및 보안

### 데이터베이스 및 데이터 관리
- **MariaDB**: 일반 애플리케이션 데이터를 저장하기 위한 관계형 데이터베이스로 사용
- **Redis**: NoSQL 데이터베이스로, 주로 JWT 관리에 사용
- **Redisson**: Redis와 결합하여 동시성 이슈 해결

### 기타
- **Docker**: 컨테이너화를 통해 일관된 개발 및 배포 환경 구성
- **GCP (Google Cloud Platform)**: 상품과 관련된 대용량 이미지 파일을 저장하는 데 사용
- **PortOne Payment API (V2)**: 온라인 결제 서비스 처리 기능 구현


## 프론트엔드 개발 (React + TypeScript)
프론트엔드는 React와 TypeScript를 활용하여 개발하였으며, 컴포넌트 기반 아키텍처를 적용하여 유지보수성을 높였습니다.

- API 연동: 백엔드에서 제공하는 RESTful API와 연동하여 상품 목록, 상세 정보, 장바구니, 결제 기능 등의 UI를 구현하였습니다.

- 상태 관리: useContext Hook을 활용하여 로그인 상태 관리를 진행하였습니다.

## 백엔드 개발 (Spring Boot)
백엔드는 Spring Boot 기반의 RESTful API를 개발하였으며, 확장성과 유지보수성을 고려하여 설계하였습니다.

- 회원 관리: Spring Security와 JWT를 활용하여 인증 및 인가 시스템을 구현하였으며, Redis를 활용하여 JWT를 효율적으로 관리하였습니다.

- 데이터베이스 관리: 애플리케이션 데이터를 저장하기 위해 MariaDB (RDBMS)를 사용하였으며 JWT 토큰 관리를 위해 Redis DB(NoSQL)를 별도로 분리,
                    용량이 큰 이미지 파일을 GCP에 저장 후 RDBMS에 이미지 경로를 저장함으로서 성능을 최적화하였습니다.

- 결제 시스템: 포트원(구 아임포트) 외부 API를 연동하여 결제 기능을 구현하였으며, 결제 승인 및 검증 프로세스를 설계하였습니다.

- 이미지 업로드: Google Cloud Storage(GCP)를 활용하여 상품 및 게시글 이미지 업로드 기능을 구현하였으며, 업로드된 이미지는 RDBMS에 URL 형태로 저장하여 효율적으로 관리하였습니다.

- 동시성 이슈 해결: Redis와 Redisson을 활용한 분산 락을 통해 멀티 서버 및 멀티 스레드 환경에서 재고 차감 시 공유 자원에서 발생할 수 있는 동시성 이슈를 해결하고, TTL 설정을 통해 Deadlock 방지까지 고려했습니다.

- 커스텀 예외를 정의하고 예외 발생 시 글로벌 예외 처리 로직을 구현하여 예외 발생 시 일관된 응답 형식을 제공하도록 에러코드를 개선하였습니다.

## 개발 환경
- Docker를 활용하여 MySQL과 Redis의 컨테이너 이미지를 생성하고, 일관된 개발 및 배포 환경을 유지할 수 있도록 설정하였습니다.
  
- Docker-Compose를 사용하여 다중 컨테이너를 하나의 서비스로 정의해 관리하였습니다.
  
- GCP를 사용하여, Google Cloud Storage를 통해 이미지 관리를 수행하였습니다.

## 주요 기능
### 1. 사용자 인증
- 회원가입, 로그인, 로그아웃 기능
- JWT를 이용한 인증 및 보안 관리

### 2. 상품 관리
- 상품 등록, 수정, 삭제 기능
- 상품 이미지 업로드 기능 (GCP 활용)
- 카테고리별 필터링 기능

### 3. 장바구니 및 주문 처리
- 장바구니에 상품 추가 및 삭제
- 주문 생성 및 결제 기능 (아임포트 API 활용)
- 주문 내역 및 결제 내역 조회 기능

### 4. 리뷰 및 평점 (UI 구현 예정)
- 구매한 상품에 대한 리뷰 작성

### 5. 좋아요 (UI 구현 예정)
- 리뷰 및 상품에게 좋아요 클릭 가능
- 중복 좋아요 버튼 클릭시 좋아요가 취소

### 6. 차후 예정
- 관리자 계정의 권한 기능 추가
- 판매자와 구매자간의 상품 문의 1:1 대화 서비스
- 판매자 및 상품명으로 검색 서비스
